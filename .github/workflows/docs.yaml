name: Documentation
on: push
jobs:
    resources:
        name: Update backend documentation
        runs-on: ubuntu-latest
        steps:
            - uses: actions/checkout@v2

            - uses: actions/setup-node@v1

            - name: Install jsdoc
              run: npm install

            - name: Generate Server Documentation
              run: npm run doc-server

            - name: Generate Client Documentation
              run: npm run doc-client
              
            - uses: nelonoel/branch-name@v1

            - name: Update documentation
              uses: EndBug/add-and-commit@v5
              with:
                  add: "docs/*"
                  commit-msg: Update documentation
              env:
                  GITHUB_TOKEN: ${{ secrets.GITHUB_TOKEN }}
